webpackJsonp([18],{838:function(t,e,a){function i(t){a(915)}var n=a(1)(a(863),a(963),i,"data-v-515adec0",null);t.exports=n.exports},863:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(a(6),a(8));e.default={name:"Reportpeople",data:function(){return{tableData:[],alldata:[],currentRow:null,pagesize:10,currentPage:1,totalCount:10,pickerOptions0:{},pickerOptions1:{},starttime:"",endtime:""}},created:function(){var t=this;i.a.GetpeortpleselectCases().then(function(e){var a=e.data.case,i=e.data.grid,n=e.data.type;t.InitializationDataMethod(a),t.NumberCasesChars(i),t.TypeCasesChars(n)})},mounted:function(){var t=this;setTimeout(function(){t.NumberCasesChars(),t.TypeCasesChars()},500)},methods:{compare:function(t){return function(e,a){var i=e[t];return a[t]-i}},InitializationDataMethod:function(t){var e=this;e.alldata=[],t.forEach(function(t){var a={};a.time=t.createtime,a.reportType=t.pollutiontype,a.casecode=t.casecode,a.latitude=t.latitude,a.longitude=t.longitude,a.grid=t.departmenttype,e.alldata.push(a)}),console.log(this.alldata),this.totalCount=this.alldata.length,this.setPageTable(10,1)},RowCurrentChange:function(t){this.currentRow=t},handleSizeChange:function(t){},handleCurrentChange:function(t){this.setPageTable(10,t),console.log(t)},setPageTable:function(t,e){for(var a=[],i=t*(e-1),n=0;n<t&&!(i+n+1>this.alldata.length);n++)a.push(this.alldata[i+n]);this.tableData=a},getPointByType:function(t){var e=[],a=this.data;if(a)for(var i=0,n=a.length;i<n;i++){var o=a[i];o.type===t&&e.push(a[i])}return e},btnClickEvent:function(){var t=this.TimeConversion("yyyy-MM-dd hh:00:00",this.starttime),e=this.TimeConversion("yyyy-MM-dd hh:00:00",this.endtime);console.log("开始时间"+t),console.log("结束时间"+e)},TimeConversion:function(t,e){var a={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));for(var i in a)new RegExp("("+i+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?a[i]:("00"+a[i]).substr((""+a[i]).length)));return t},NumberCasesChars:function(t){var e=t.map(function(t){return{value:t.percent.replace("%",""),name:t.name}})||[],a=t.map(function(t){return{name:t.name}})||[],i=echarts.init(document.getElementById("bing_item_1p")),n={legend:{orient:"right",y:"center",left:160,data:a},series:[{name:"访问来源",type:"pie",radius:"70%",center:["20%","50%"],hoverAnimation:!1,label:{normal:{show:!1,position:"center"},emphasis:{show:!0,textStyle:{fontSize:"20",fontWeight:"bold"}}}}]};i.setOption(n),i.setOption({series:[{data:e,color:[]}]})},TypeCasesChars:function(t){var e=t.map(function(t){return{value:t.percent.replace("%",""),name:t.name}})||[],a=t.map(function(t){return{name:t.name}})||[],i=echarts.init(document.getElementById("bing_item_2p")),n={legend:{orient:"right",y:"center",left:"right",data:a},series:[{name:"访问来源",type:"pie",radius:"70%",center:["20%","50%"],hoverAnimation:!1,label:{normal:{show:!1,position:"center"},emphasis:{show:!0,textStyle:{fontSize:"20",fontWeight:"bold"}}},data:[{value:335,name:"垃圾堆放"},{value:310,name:"土壤裸露"},{value:234,name:"露天烧烤"},{value:135,name:"垃圾焚烧"},{value:548,name:"餐饮油烟"},{value:500,name:"建筑扬尘"},{value:500,name:"废气排放"},{value:300,name:"汽车尾气"}]}]};i.setOption(n),i.setOption({series:[{data:e,color:[]}]}),i.on("legendselectchanged",function(t){var e=t.selected,a=t.name;0==e[a]&&console.log(a)})}},components:{}}},891:function(t,e,a){e=t.exports=a(831)(!1),e.push([t.i,".Report-people[data-v-515adec0]{width:430px;height:auto}.Report-people .title-daqi[data-v-515adec0]{width:100%;height:36px}.Report-people .title-daqi .shuxian[data-v-515adec0]{width:3px;height:24px;background:#1fa1ff;float:left;margin-left:10px}.Report-people .title-daqi .title-text[data-v-515adec0]{float:left;font-weight:700;line-height:24px;padding-left:10px;text-align:left}.Report-people img[data-v-515adec0]{position:absolute;top:40%;left:-17px;cursor:pointer;float:left}.Report-people .main[data-v-515adec0]{height:auto}.Report-people .main .kbiaoti[data-v-515adec0]{padding:10px 0}.Report-people .main .bluexian[data-v-515adec0]{width:26px;border:1px solid #1080cc;margin:0 auto}.Report-people .main .first[data-v-515adec0]{width:100%;height:44px;margin-top:30px}.Report-people .main .first .tables[data-v-515adec0]{float:left;margin-left:14px}.Report-people .main .first .tables a[data-v-515adec0]{padding:0 15px;float:left;text-decoration:none;color:#666;display:inline-block;line-height:34px;width:100px;height:34px;margin-right:16px;border:1px solid #ccc;background:#fff;border-radius:2px}.Report-people .main .first .btnns[data-v-515adec0],.Report-people .main .first .shijian[data-v-515adec0]{float:left;margin-left:6px}.Report-people .main .first .btnns button[data-v-515adec0]{border:none;width:80px;height:34px;background:#1fa1ff;color:#fff;border-radius:4px}.Report-people .main .tqbiaoti[data-v-515adec0]{width:100%;height:22px;padding-left:20px;text-align:left;margin-left:16px;border-left:3px solid #2a6496}.Report-people .main .table_container[data-v-515adec0]{margin-left:16px}",""])},915:function(t,e,a){var i=a(891);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(832)("b170e176",i,!0,{})},963:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"Report-people"},[a("div",{staticClass:"main"},[a("div",{staticClass:"first"},[a("div",{staticClass:"shijian time-qm"},[a("div",{staticClass:"block",staticStyle:{float:"left","margin-left":"10px"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","picker-options":t.pickerOptions0},model:{value:t.starttime,callback:function(e){t.starttime=e},expression:"starttime"}})],1),t._v(" "),a("div",{staticStyle:{float:"left","line-height":"34px",padding:"0 3px"}},[t._v("-")]),t._v(" "),a("div",{staticClass:"block",staticStyle:{float:"left"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","picker-options":t.pickerOptions1},model:{value:t.endtime,callback:function(e){t.endtime=e},expression:"endtime"}})],1)]),t._v(" "),a("div",{staticClass:"btnns"},[a("button",{on:{click:t.btnClickEvent}},[t._v("查询")])])]),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"table_container"},[a("el-table",{staticStyle:{width:"400px"},attrs:{data:t.tableData,border:"",stripe:"","highlight-current-row":""},on:{"current-change":t.RowCurrentChange}},[a("el-table-column",{attrs:{property:"time",label:"时间",width:"160"}}),t._v(" "),a("el-table-column",{attrs:{property:"reportType",label:"案件类型"}}),t._v(" "),a("el-table-column",{attrs:{property:"grid",label:"所属网格"}})],1),t._v(" "),a("div",{staticClass:"Pagination",staticStyle:{"text-align":"left","margin-top":"10px"}},[a("el-pagination",{attrs:{background:"","current-page":t.currentPage,"page-size":t.pagesize,layout:"total, prev, pager, next",total:t.totalCount},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"chars-tubiao"},[a("div",{staticClass:"title-daqi"},[a("div",{staticClass:"shuxian"}),t._v(" "),a("div",{staticClass:"title-text"},[a("div",{staticClass:"bing_text"},[t._v("案件数量占比")])])]),t._v(" "),a("div",{},[a("div",{staticStyle:{width:"390px",height:"180px","padding-left":"14px"},attrs:{id:"bing_item_1p"}})]),t._v(" "),a("div",{staticClass:"title-daqi"},[a("div",{staticClass:"shuxian"}),t._v(" "),a("div",{staticClass:"title-text"},[a("div",{staticClass:"bing_text"},[t._v("案件类型占比")])])]),t._v(" "),a("div",{},[a("div",{staticStyle:{width:"390px",height:"180px","padding-left":"14px"},attrs:{id:"bing_item_2p"}})])])}]}}});